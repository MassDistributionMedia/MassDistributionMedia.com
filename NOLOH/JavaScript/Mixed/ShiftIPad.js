_N.Catchers=[];function _NShftSta(b){if(_N.ClickOffId){_NClickOffClick(event)}_N.Shifts=b;_N.Shifts.Ghosts=[];_N.Shifts.ObjsWithStart=[];_N.Shifts.ObjsWithStop=[];_N.Shifts.ActualCount=[];_N.Shifts.HasMoved=false;var a=event.targetTouches;if(a){_N.Shifts.CursorX=a[0].pageX;_N.Shifts.CursorY=a[0].pageY}document.addEventListener("touchmove",_NShftFirstGo,true);document.addEventListener("touchend",_NShftStp,true);event.preventDefault()}function _NShftFirstGo(f){var g,d,c,b=_N.Shifts.length;if(b>0){c=++_N.HighestZ+b-_N(_N.Shifts[0][0]).style.zIndex}event=f;for(var a=0;a<b;++a){d=_N(g=_N.Shifts[a][0]);if(d.ShiftStart&&!_N.Shifts.ObjsWithStart[g]){d.ShiftStart.call(d);_N.Shifts.ObjsWithStart[g]=true}if(d.ShiftStop&&!_N.Shifts.ObjsWithStop[g]){_N.Shifts.ObjsWithStop[g]=d}if(_N.Shifts[a][4]){d=d.cloneNode(true);d.style.position="absolute";d.style.left=_NFindX(g)+"px";d.style.top=_NFindY(g)+"px";d.style.opacity=".5";_N.Shifts[a][0]=g=d.id=g+"_Ghost";document.body.appendChild(d);_N.Shifts.Ghosts.push(a)}_N.Shifts.ActualCount[_N.Shifts[a][7]=_N.Shifts[a][1]+g]=parseInt(_N.Shifts[a][1]==1?d.style.width:_N.Shifts[a][1]==2?d.style.height:_N.Shifts[a][1]==4?d.style.left:d.style.top);_NSetProperty(g,"style.zIndex",parseInt(d.style.zIndex)+c)}delete _N.Shifts.ObjsWithStart;_N.Shifts.HasMoved=true;event=null;document.removeEventListener("touchmove",_NShftFirstGo,true);document.addEventListener("touchmove",_NShftGo,true)}function _NShftGo(f){event=f;var c=event.targetTouches[0];var g=c.pageX;var d=c.pageY;var b=g-_N.Shifts.CursorX;var a=d-_N.Shifts.CursorY;_N.Shifts.CursorX=g;_N.Shifts.CursorY=d;_NShftObjs(_N.Shifts,b,a);f.preventDefault();event=null}function _NShftObjs(f,b,a){var g,d,e=f.length;for(var c=0;c<e;++c){if(g=_N(f[c][0])){if(f[c][1]==1){_NShftProcObj(g,f[c],1,"style.width",1,(d=g.style.width)?d:g.offsetWidth,b,(!f[c][7]||f[c][3])?null:(d=g.style.left)?d:g.offsetLeft)}else{if(f[c][1]==2){_NShftProcObj(g,f[c],2,"style.height",0,(d=g.style.height)?d:g.offsetHeight,a,(!f[c][7]||f[c][3])?null:(d=g.style.top)?d:g.offsetTop)}else{if(f[c][1]==4){_NShftProcObj(g,f[c],4,"style.left",1,(d=g.style.left)?d:g.offsetLeft,b,f[c][3]?null:(d=g.style.width)?d:g.offsetWidth)}else{_NShftProcObj(g,f[c],5,"style.top",0,(d=g.style.top)?d:d.offsetTop,a,f[c][3]?null:(d=g.style.height)?d:g.offsetHeight)}}}}}}function _NShftCalcPrcnt(d,a,e){if(typeof(a)=="string"&&a.charAt(a.length-1)=="%"){var c,b=d.parentNode;if(b){a=parseInt(a)/100;c={"style.width":"offsetWidth","style.left":"offsetWidth","style.height":"offsetHeight","style.top":"offsetHeight"};if(e=c[e]){return a*b[e]}}}return a}function _NShftProcObj(h,c,f,k,d,b,n,j){if(n){b=parseInt(b);var a,e=c[2]==null?(b<0?null:0):(c[2]=="N"?null:_NShftCalcPrcnt(h,c[2],k)),i,g;if(j){var m=h.parentNode;a=(d?(m.id=="N1"?m.Width:(g=m.style.width)?parseInt(g):(m.offsetWidth-(isNaN(g=parseInt(m.style.borderLeftWidth))?0:(2*g)))):(m.id=="N1"?m.Height:(g=m.style.height)?parseInt(g):(m.offsetHeight-(isNaN(g=parseInt(m.style.borderTopWidth))?0:(2*g)))))-parseInt(j);if(b>a){a=null}}else{a=c[3]=="N"?null:_NShftCalcPrcnt(h,c[3],k)}if(c[7]){n=_NShftObj(c[0],k,b,n,e,a,c[5],c[6],_N.Shifts.ActualCount,c[7])}else{if(h._NApparentCount[f]!=b){h._NApparentCount[f]=h._NActualCount[f]=b}n=_NShftObj(c[0],k,b,n,e,a,c[5],c[6],h._NActualCount,f);h._NApparentCount[f]+=n}if(g=_N.ChangeForReflect){var l=parseInt(f==1?h.style.left:h.style.top)+(g=="D"?(-n):g);_NSetProperty(c[0],f==1?"style.left":"style.top",l+"px");delete _N.ChangeForReflect}if(n){if((i=h.ShiftsWith)&&i[f]){_NShftObjs(i[f],n,n)}if(h.ShiftStep){h.ShiftStep.call(h)}}}}function _NShftObj(c,m,d,l,e,b,g,a,f,j){var h=g?(l*g):l;var i=f[j]+=h;i=a?_NRound(i,a,d):Math.round(i);if(e!=null){if(e=="R"){var k=_NRound(f[j]-h,a,d);if(i<0&&k>=0){_N.ChangeForReflect=i}else{if(i>=0&&k<0){_N.ChangeForReflect=d}else{if(i<0){_N.ChangeForReflect="D"}}}i=Math.abs(i)}else{if(i<e){i=e}}}if(b!=null&&i>b){i=b}_NSetProperty(c,m,i+"px");return i-d}function _NShftStp(p){event=p;var m,k;if((m=_N.Catchers.length)&&_N.Shifts.HasMoved){var b,l,o,d,c,f,a,h,n=[];_N.EventVars.Caught=[];d=_N.Shifts.CursorX;c=_N.Shifts.CursorY;for(var g=0;g<m;++g){if(_NAvail(_N.Catchers[g])){b=_N(_N.Catchers[g]);catcherX=_NFindX(_N.Catchers[g]);catcherY=_NFindY(_N.Catchers[g]);if(d>=catcherX&&d<catcherX+((h=b.style.width)==""?((h=b.offsetWidth)?h:80):parseInt(h))&&c>=catcherY&&c<catcherY+((h=b.style.height)==""?((h=b.offsetHeight)?h:20):parseInt(h))){for(f=0;f<_N.Shifts.length;++f){if(4<=_N.Shifts[f][1]&&_N.Shifts[f][1]<=6&&_N.Catchers[g]!=(a=_N.Shifts[f][0].replace("_Ghost",""))&&!n[a]){_N.EventVars.Caught.push(n[a]=a)}}if(_N.EventVars.Caught.length){b.DragCatch.call(b)}}}}}m=_N.Shifts.Ghosts.length;for(g=0;g<m;++g){f=_N.Shifts.Ghosts[g];document.body.removeChild(_N(_N.Shifts[f][0]));_N.Shifts[f][0]=_N.Shifts[f][0].replace("_Ghost","")}if(_N.Shifts.HasMoved){for(var a in _N.Shifts.ObjsWithStop){k=_N.Shifts.ObjsWithStop[a];k.ShiftStop.call(k)}document.removeEventListener("touchmove",_NShftGo,true);_N.DisableClicks=true;window.setTimeout(function(){delete _N.DisableClicks},0)}else{m=_N.Shifts.length;for(g=0;g<m;++g){k=_N(_N.Shifts[g][0]);if(k.onclick){k.onclick.call(k)}}document.removeEventListener("touchmove",_NShftFirstGo,true)}_N.Shifts=null;document.removeEventListener("touchend",_NShftStp,true);event=null}function _NShftWth(e){var d=_N(e),a,c=arguments.length,b=0;if(d.ShiftsWith==null){d.ShiftsWith=[]}while(++b<c){if(d.ShiftsWith[arguments[b]]==null){d.ShiftsWith[arguments[b]]=[arguments[++b]]}else{d.ShiftsWith[arguments[b]].push(arguments[++b])}if((a=_N(arguments[b][0]))&&!a._NActualCount){a._NActualCount=[];a._NApparentCount=[]}}}function _NShftGC(){for(var c=0,e=arguments.length;c<e;++c){var f=_N(arguments[c]).ShiftsWith,d;for(d in f){for(var b=0,a=f[d].length;b<a;++b){if(!_N(f[d][b][0])){f[d].splice(b--,1);--a}}}}}function _NRound(c,d,a){var b=(a?(c-a):c)%d;if(b<0){b+=d}return(b>=d/2)?(c+d-b):(c-b)}function _NSetShifts(a){a.ontouchstart=_NEvent("if(obj.Shifts && obj.Shifts.length && !_N.Shifts) _NShftSta(obj.Shifts);",a)}function _NShiftWithBody(a){return false};